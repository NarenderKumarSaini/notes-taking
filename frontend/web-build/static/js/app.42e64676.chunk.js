(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{244:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(44),a=n(402),c=n(26),u=n.n(c),l=n(18),s=n.n(l),d=n(7),f=n.n(d),j=n(400),p=n(246),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.default.manifest.releaseChannel;return"staging"===e?ENV.staging:"prod"===e?ENV.prod:void 0}().apiUrl,g=j.default.create({baseURL:b}),O=n(24),y=n.n(O),v=n(20);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e,t,n){var i=o.a.createContext();return{Context:i,Provider:function(o){var a=o.children,c=Object(r.useReducer)(e,n),u=y()(c,2),l=u[0],s=u[1],d={};for(var f in t)d[f]=t[f](s);return Object(v.jsx)(i.Provider,{value:x({state:l},d),children:a})}}}((function(e,t){switch(t.type){case"add_error":return P(P({},e),{},{errorMessage:t.payload});case"clear_error_message":return P(P({},e),{},{errorMessage:""});case"get_notes":return t.payload;case"edit_note":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"delete_note":return e.filter((function(e){return e.id!==t.payload}));case"add_note":return[].concat(s()(e),[{title:t.payload.title,content:t.payload.content}]);default:return e}}),{addNote:function(e){return function(){var t=u()((function*(t,n,r){try{yield g.post("/notes",{title:t,content:n}),r&&r()}catch(a){var o,i;e({type:"add_error",payload:null==a||null==(o=a.response)||null==(i=o.data)?void 0:i.message})}}));return function(e,n,r){return t.apply(this,arguments)}}()},deleteNote:function(e){return function(){var t=u()((function*(t){yield g.delete("/notes/"+t),e({type:"delete_note",payload:t})}));return function(e){return t.apply(this,arguments)}}()},editNote:function(e){return function(){var e=u()((function*(e,t,n,r){yield g.patch("/notes/"+e,{title:t,content:n}),r&&r()}));return function(t,n,r,o){return e.apply(this,arguments)}}()},getNotes:function(e){return u()((function*(){try{var t=yield g.get("/notes");e({type:"get_notes",payload:t.data})}catch(n){console.log(n)}}))},clearErrorMessage:function(e){return function(){e({type:"clear_error_message"})}}},{errorMessage:""}),C=w.Context,S=w.Provider,E=n(13),N=n(11),_=n(222),M=n(40),z=n(36),D=function(e){var t=e.errorMessage,n=e.onSubmit,o=e.initialValues,i=Object(r.useState)(o.title),a=y()(i,2),c=a[0],u=a[1],l=Object(r.useState)(o.content),s=y()(l,2),d=s[0],f=s[1];return Object(v.jsxs)(N.default,{children:[Object(v.jsx)(M.default,{style:I.label,children:"Enter Title:"}),Object(v.jsx)(z.default,{style:I.input,value:c,onChangeText:function(e){return u(e)}}),Object(v.jsx)(M.default,{style:I.label,children:"Enter Content:"}),Object(v.jsx)(z.default,{style:I.input,value:d,onChangeText:function(e){return f(e)}}),t&&Object(v.jsx)(N.default,{style:I.errorContainer,children:t.map((function(e){return Object(v.jsx)(M.default,{style:I.errorMessage,children:e})}))}),Object(v.jsx)(_.default,{title:"Save Note",onPress:function(){return n(c,d)}})]})};D.defaultProps={initialValues:{title:"",content:""}};var I=E.default.create({input:{fontSize:18,borderWidth:1,borderColor:"black",marginBottom:15,padding:5,margin:5},label:{fontSize:20,marginBottom:5,marginLeft:5},errorContainer:{marginVertical:10},errorMessage:{fontSize:16,color:"red",marginLeft:15,marginTop:15,textAlign:"center"}}),V=D,R=(E.default.create({}),function(e){var t=e.navigation,n=Object(r.useContext)(C),o=n.state,a=n.addNote,c=n.clearErrorMessage;return Object(v.jsxs)(N.default,{children:[Object(v.jsx)(i.NavigationEvents,{onWillFocus:c}),Object(v.jsx)(V,{errorMessage:o.errorMessage,onSubmit:function(e,n){a(e,n,(function(){return t.navigate("Index")}))},initialValues:{title:"",content:""}})]})}),k=(E.default.create({}),function(e){var t=e.navigation,n=t.getParam("id"),o=Object(r.useContext)(C),i=o.state,a=o.editNote,c=i.find((function(e){return e.id===n}));return Object(v.jsx)(V,{initialValues:{title:c.title,content:c.content},onSubmit:function(e,r){a(n,e,r,(function(){return t.pop()}))}})}),T=n(83),L=n(68),A=n(397),W=function(e){var t=e.navigation,n=Object(r.useContext)(C),o=n.state,i=n.deleteNote,a=n.getNotes;return Object(r.useEffect)((function(){a();var e=t.addListener("didFocus",(function(){a()}));return function(){e.remove()}}),[]),Object(v.jsx)(N.default,{children:Object(v.jsx)(T.default,{data:o,keyExtractor:function(e){return e.title},renderItem:function(e){var n=e.item;return Object(v.jsx)(L.default,{onPress:function(){return t.navigate("Show",{id:n.id})},children:Object(v.jsxs)(N.default,{style:B.row,children:[Object(v.jsxs)(M.default,{style:B.title,children:[n.title," - ",n.content]}),Object(v.jsx)(L.default,{style:B.actionIcon,onPress:function(){return i(n.id)},children:Object(v.jsx)(A.default,{style:B.icon,name:"trash"})})]})})}})})};W.navigationOptions=function(e){var t=e.navigation;return{headerRight:function(){return Object(v.jsx)(L.default,{style:B.actionIcon,onPress:function(){return t.navigate("Create")},children:Object(v.jsx)(A.default,{name:"plus",size:30})})}}};var B=E.default.create({row:{flexDirection:"row",justifyContent:"space-between",paddingVertical:20,paddingHorizontal:10,borderTopWidth:1,borderColor:"gray"},title:{fontSize:18},icon:{fontSize:24},actionIcon:{marginRight:30}}),F=W,J=n(398),U=function(e){var t=e.navigation,n=Object(r.useContext)(C).state.find((function(e){return e.id===t.getParam("id")}));return Object(v.jsxs)(N.default,{style:H.container,children:[Object(v.jsx)(M.default,{style:H.title,children:n.title}),Object(v.jsx)(M.default,{style:H.content,children:n.content})]})};U.navigationOptions=function(e){var t=e.navigation;return{headerRight:function(){return Object(v.jsx)(L.default,{onPress:function(){return t.navigate("Edit",{id:t.getParam("id")})},style:H.actionIcon,children:Object(v.jsx)(J.default,{name:"pencil",size:35})})}}};var H=E.default.create({container:{textAlign:"center"},title:{fontSize:30},content:{marginTop:20,fontSize:20},actionIcon:{marginRight:30}}),q=U,G=Object(a.default)({Index:F,Show:q,Create:R,Edit:k},{initialRouteName:"Index",defaultNavigationOptions:{title:"Notes Management"}}),K=Object(i.createAppContainer)(G);t.default=function(){return Object(v.jsx)(S,{children:Object(v.jsx)(K,{})})}},251:function(e,t,n){e.exports=n(386)}},[[251,1,2]]]);
//# sourceMappingURL=app.42e64676.chunk.js.map